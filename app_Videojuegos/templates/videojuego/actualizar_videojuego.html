{% extends 'cliente/base.html' %}
{% block content %}
<h2>Actualizar Videojuego</h2>
<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="nombre">Nombre</label>
            <input type="text" class="form-control" id="nombre" name="nombre" value="{{ videojuego.nombre }}" required>
        </div>
        <div class="form-group col-md-6">
            <label for="duracion">Duración</label>
            <input type="number" class="form-control" id="duracion" name="duracion" value="{{ videojuego.duracion }}" required>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-4">
            <label for="ano_lanzamiento">Año de Lanzamiento</label>
            <input type="number" class="form-control" id="ano_lanzamiento" name="ano_lanzamiento" value="{{ videojuego.ano_lanzamiento }}" required>
        </div>
        <div class="form-group col-md-4">
            <label for="compania">Compañía</label>
            <input type="text" class="form-control" id="compania" name="compania" value="{{ videojuego.compania }}" required>
        </div>
        <div class="form-group col-md-4">
            <label for="id_categoria">Categoría</label>
            <select name="id_categoria" id="id_categoria" class="form-control" required>
                <option value="">-- Seleccionar Categoría --</option>
                {% for cat in categorias %}
                <option value="{{ cat.pk }}" {% if cat.pk == videojuego.categoria.pk %}selected{% endif %}>{{ cat.nombre }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="descripcion">Descripción</label>
        <textarea class="form-control" id="descripcion" name="descripcion" rows="3" required>{{ videojuego.descripcion }}</textarea>
    </div>
    <div class="form-group">
        <label for="imagen">Imagen</label>
        <input type="file" class="form-control" id="imagen" name="imagen" accept="image/*">
        {% if videojuego.imagen %}
            <img src="{{ videojuego.imagen.url }}" alt="{{ videojuego.nombre }}" style="width: 100px; height: 100px; object-fit: cover; margin-top: 10px;">
        {% endif %}
    </div>
    <button type="submit" class="btn btn-primary"><i class="bi bi-pencil"></i> Actualizar Videojuego</button>
</form>
{% endblock %}
